<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <title> Spring Boot </title>
    <link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css" />
</head>
<body class="bg-light">
<nav class="navbar navbar-light bg-white">
    <div class="container-fluid">
        <a class="navbar-brand" href="#">
            <img src="/jpg/logoAbernathy.PNG" alt="" width="30" height="24" class="d-inline-block align-text-top"/>
            Clinique Abernathy
        </a>

        <div class="d-flex w-50 justify-content-evenly">
            <a th:href="@{/addPatient}" class=" btn btn-primary pr-2">Add a new Patient</a>
            <form class="d-flex ">
                <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
                <button class="btn btn-outline-success" type="submit">Search</button>
            </form>
        </div>
    </div>
</nav>

<section>

    <div class="container text-center bg-white mt-3 shadow-sm">
        <h1>List of all patients</h1>
        <div class="bg-danger text-white fw-bold" th:if="${addedPatient != null }">
            This patient already is present in the DB.
        </div>
        <div class="bg-danger text-white fw-bold" th:if="${notFoundById != null }">
            The Id provided isn't attributed to a given Patient.
        </div>
        <div class="bg-danger text-white fw-bold" th:if="${notDeleted != null }">
            Couldn't deleted the given user.
        </div>
        <div class="row">
            <div class="col">

<table class="table table-hover">
  <thead class="thead-dark">
    <tr>
      <th scope="col">#</th>
      <th scope="col">FirstName</th>
      <th scope="col">LastName</th>
      <th scope="col">DOB</th>
      <th scope="col">Gender</th>
      <th scope="col">Address</th>
      <th scope="col">Phone Number</th>
      <th scope="col">Action</th>
    </tr>
  </thead>
  <tbody>

  <tr  th:each="patient : ${patientList}">

          <td th:text="${patient.id}"></td>
          <td th:text="${patient.firstName}"></td>
          <td th:text="${patient.lastName}"></td>
          <td th:text="${patient.dateOfBirth}"></td>
          <td th:text="${patient.gender}"></td>
          <td th:text="${patient.address}"></td>
          <td th:text="${patient.phoneNumber}"></td>
          <td>
                    <a  th:href="@{/seeNotesForUser/{id}/{firstName}/{lastName}(id=${patient.id},firstName=${patient.firstName}, lastName=${patient.lastName})}" class="btn btn-success">See notes</a>
                    <a  th:href="@{/modifyPatient/{id}(id=${patient.id})}" class="btn btn-primary">Modify</a>
                    <a  th:href="@{/deletePatient/{id}(id=${patient.id})}" class="btn btn-danger" >Delete</a>

          </td>
  </tr>
  </tbody>
</table>
            </div>
        </div>
    </div>

</section>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/bootstrap.bundle.min.js"></script>
</body>
</html>